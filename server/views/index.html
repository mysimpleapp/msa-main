<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<script>
		// load observe and webcomponents polyfills (only if needed)
		var loadScript = function(src) {
			var script = document.createElement('script');
			script.src = src;
			document.head.appendChild(script);
		}
		if(!Object.observe) loadScript('/bower_components/object.observe/dist/object-observe.js');
		if(!Array.observe) loadScript('/bower_components/array.observe/array-observe.js');
		var eventToWait = (!HTMLElement.prototype.createShadowRoot) ? 'WebComponentsReady' : 'load';
		if(!HTMLElement.prototype.createShadowRoot) loadScript('/bower_components/webcomponents.js/webcomponents.min.js');
	</script>
	<link rel="import" href="/bower_components/mysimpleapp/mysimpleapp.pack.html"></link>
	<link rel="import" href="/bower_components/msa-navmenu/msa-navmenu.html"></link>
	{{{partial.head}}}
	<title>My Simple App</title>
	<style>
		body {
			padding: 0;
			margin: 0;
		}
		#content {
			padding: 10px;
		}
	</style>
</head>
<body>
	<msa-navmenu></msa-navmenu>
	<div id="content">
		{{{partial.body}}}
	</div>
	<script>
		window.addEventListener(eventToWait, function(e) {
			App.get("/user/islog", null, App.user);
		});
	</script>
</body>
</html>
